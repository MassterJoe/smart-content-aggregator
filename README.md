# Smart Content Aggregator

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)  
[![Node.js Version](https://img.shields.io/badge/Node.js-18.x-green)](https://nodejs.org/)  
[![MongoDB](https://img.shields.io/badge/MongoDB-6.x-brightgreen)](https://www.mongodb.com/)

Smart Content Aggregator Service is an API that enables users to publish, interact with, and discover high-quality articles. The platform leverages AI-based summarization, rule-based recommendation systems, and analytics to enhance content discovery and user engagement.

---

## Table of Contents

- [Features](#features)  
- [Tech Stack](#tech-stack)  
- [Getting Started](#getting-started)  
- [Project Structure](#project-structure)  
- [API Endpoints](#api-endpoints)  
- [Usage](#usage)   
- [License](#license)  

---

## Features

- **User Management**: Register, login, and manage profiles.  
- **Article Management**: Create, update, view, and delete articles.  
- **Automatic Summarization**: AI-based summaries generated if not provided.  
- **Interactions**: Users can like, comment, share, bookmark, or view articles.  
- **Recommendations**: Rule-based system recommends articles based on user interests and popularity.  
- **Analytics**: Track article views and user engagement.  
- **RESTful API**: Exposed endpoints for frontend integration.  
- **Swagger Documentation**: Interactive API docs for developers.  

---

## Tech Stack

**Backend:**  
- Node.js  
- Express.js  
- TypeScript  
- TSOA (Swagger integration)  
- typedi (Dependency Injection)  

**Database:**  
- MongoDB with Mongoose ORM  

**AI / NLP:**  
- Google Gemini API for content summarization  

**Message Broker / Email:**  
- RabbitMQ  
- SMTP / SendGrid for email notifications  

- Swagger for documentation http://localhost:5000/api/docs
---

## Getting Started

### Prerequisites

- Node.js >= 18.x  
- MongoDB >= 6.x  
- npm or yarn  
- RabbitMQ  
- `.env` file with the following variables:

```env
PORT=5000
HOST=localhost
MONGODB_URI=mongodb://localhost:27017/smart-content-aggregator
MONGO_DB_NAME=smart-content-aggregator
JWT_SECRET=your_jwt_secret
REFRESH_JWT_SECRET=your_refresh_jwt_secret
JWT_ISSUER=smart-content-aggregator
APP_URL=http://localhost:5000
GEMINI_API_KEY=your_google_gemini_api_key

# RabbitMQ
RABBITMQ_URL=amqp://guest:guest@localhost:5672

# Email
MAIL_TRANSPORT=smtp://${MAIL_USER}:${MAIL_PASSWORD}@${MAIL_HOST}
SENDGRID_API_KEY=your_sendgrid_api_key
MAIL_FROM=no-reply@example.com
````

### Installation

# Clone the repo
git clone https://github.com/MassterJoe/smart-content-aggregator.git
cd smart-content-aggregator

# Install dependencies
npm install

# Start development server
npm run dev
```

---

## Project Structure

```
src/
│
├─ api/
│  ├─ controllers/
|  |-- dtos/
|  |-- enums/
|  |-- errors/
|  |-- helpers/
|  |-- interfaces/
|  |-- mail/
│  ├─ services/         
│  ├─ models/                     
│  └─ middlewares/      
│
├─ config/              
├─ ioc.ts               
├─ app.ts                       
```

---

## API Endpoints



### Articles

* `POST /articles/:userId` - Create a new article, with summmary generated by ai if omitted during article creation
* `PUT /articles/:id` - Update an article
* `GET /articles/:id` - Get article by ID
* `GET /articles/recommendations/:userId` - Get recommended articles

### Interactions

* `POST /interactions` - Create a new interaction (like, comment, share, etc.)
* `GET /interactions/:articleId` - Get all interactions for an article
* `DELETE /interactions/:id` - Delete an interaction

### Users


* `POST /users` - create a user


* `GET  /users` - get all users

* `POST /users/login` - login user


* `GET /users/{id}` - get user by id

* `PUT /users/{id}` - edit user by id

* `DELETE /users/{id}` - delete user by id

* `POST /users/validate-email` - validate user with token and otp sent to the mail

### Interactions


* `POST /interactions` - create interaction


* `GET /interactions/{articleId}` - get interactions by articleID


* `DELETE /interactions/{id}` - delete interaction by id


### Articles


* `POST /articles/{userId}` - create article


* `PUT /articles/{id}` - edit article


* `GET /articles/{id}` - get article by id


* `GET /articles` - get all articles


* `GET /articles/recommendations/{userId}` - reccomend article to user


> For a complete list of endpoints and documentation, visit Swagger UI at `http://localhost:5000/api/docs`.

---

## Usage

1. Create a user and obtain JWT token.
2. Create articles using your JWT.
3. Interact with articles (like, comment, share, bookmark).
4. Fetch recommended articles based on your interests and popular articles.
5. Articles submitted without a summary will automatically generate one using AI summarization.

---


## What i would do if i had more time
1. Implement Redis for Caching

    - Cache popular articles and recommendations to reduce database load and improve response times.

2. Containerize the Application with Docker

    - Create Dockerfiles and Docker Compose setup for consistent development and deployment environments.

3. Improve Error Handling

  - Introduce standardized error classes and a global error-handling middleware to make responses consistent.

4. Enhance Security

  - Add rate limiting, input validation hardening, and HTTP header protection (e.g., Helmet).

5. Refactor & Clean Up Code

  - Remove duplication, improve modularity, and follow consistent coding standards for better maintainability.

6. Write Unit & Integration Tests

  - Add automated tests (Jest + Supertest) to improve reliability and catch regressions early.



## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

```